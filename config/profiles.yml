# =============================================================================
# User Profiles Configuration - Example File
# =============================================================================
# Define profiles for user groups. Each profile can specify:
#   - homepage: Browser start page URL
#   - bookmarks: List of bookmarks (name + url)
#   - autofill: Auto-fill credentials for specific URLs
#   - description: Profile description
#   - priority: Priority level (0 = lowest, higher wins)
#
# The browser type (Firefox/Chromium) is determined by the container image
# configured in broker.yml. Profiles are browser-agnostic.
#
# When deploying with Helm, profiles are configured via values.yaml.
# =============================================================================

default:
  description: "Default profile for all users"
  priority: 0
  homepage: "https://www.google.com"
  bookmarks:
    - name: "Google"
      url: "https://www.google.com"
    - name: "DuckDuckGo"
      url: "https://duckduckgo.com"

# =============================================================================
# Example Profiles (cumulative merge)
# =============================================================================
# Users belonging to multiple groups receive the UNION of all matching
# profiles (bookmarks and autofill are deduplicated by URL).
# The homepage is taken from the highest-priority profile.
#
# developers:
#   description: "Development team"
#   priority: 10
#   homepage: "https://github.com"
#   bookmarks:
#     - name: "GitHub"
#       url: "https://github.com"
#     - name: "Stack Overflow"
#       url: "https://stackoverflow.com"
#     - name: "DevDocs"
#       url: "https://devdocs.io"
#   autofill:
#     - url: "https://github.com/login"
#       username: "${GUAC_USERNAME}"
#       password: "${vault:github_password}"
#
# intranet:
#   description: "Intranet access"
#   priority: 5
#   bookmarks:
#     - name: "Intranet"
#       url: "https://intranet.company.com"
#   autofill:
#     - url: "https://intranet.company.com/login"
#       username: "${GUAC_USERNAME}"
#       password: "${vault:intranet_password}"
#
# =============================================================================
# Per-user overrides (highest priority)
# =============================================================================
# _users:
#   alice:
#     homepage: "https://alice-dashboard.internal"
#     bookmarks:
#       - name: "Alice Dashboard"
#         url: "https://alice-dashboard.internal"
#   bob:
#     autofill:
#       - url: "https://special-app.com"
#         username: "bob@company.com"
#         password: "${vault:bob_special}"

# =============================================================================
# Variable Expansion
# =============================================================================
# The following variables are supported in profile configuration:
#
# ${GUAC_USERNAME}  - Guacamole username of the connected user
# ${vault:key}      - Secret from Vault/OpenBao (requires Vault integration)
# ${env:VAR}        - Environment variable from the broker container
#
# Example with Vault integration:
#   autofill:
#     - url: "https://app.example.com/login"
#       username: "${GUAC_USERNAME}@company.com"
#       password: "${vault:app_password}"
